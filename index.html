<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ§¬ Polygenic Risk Score Calculator for Caffeine Consumption ðŸ§¬</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1>ðŸ§¬ Polygenic Risk Score Calculator ðŸ§¬</h1>
        <p class="intro">
            This tool demonstrates how a Polygenic Risk Score (PRS) is calculated.<br>
            A PRS summarizes the estimated effect of many genetic variants on an individual's phenotype.
        </p>

        <div class="calculator-card">
            <h2>Enter Your Genotype</h2>
            <p class="instructions">For each SNP below, enter the number of "risk" alleles you have (0, 1, or 2).</p>
            
            <div id="snpInputsContainer">
                <!-- SNP inputs will be dynamically generated here by JavaScript -->
            </div>
            
            <button id="calculateBtn">Calculate My Score!</button>
            <button id="resetBtn" class="hidden">Reset Calculator</button>
            
            <div id="results" class="hidden">
                <div class="calculation-section">
                    <h3>Your Genotype Contributions:</h3>
                    <ul id="calculationStepsList">
                        <!-- Calculation breakdown will appear here -->
                    </ul>
                    <p><strong>Total Polygenic Risk Score (PRS) Formula:</strong></p>
                    <p id="pgsCalculation" class="math-formula"></p>
                </div>
                
                <p class="final-score">ðŸ”¬ Your final Polygenic Risk Score is: <span id="finalPGS"></span> ðŸ”¬</p>
                <p id="interpretationMessage" class="interpretation-text"></p>
                
                <div class="limitation-box">
                    <h3>ðŸš¨ Important Limitations of Polygenic Risk Scores ðŸš¨</h3>
                    <p><strong>This is an educational tool, not a real genetic test.</strong> Real-world Polygenic Risk Scores have significant limitations:</p>
                    <ul>
                        <li><strong>Small Predictive Power:</strong> A PRS for a complex trait like coffee consumption explains a very small fraction of the differences between people. Lifestyle and environment are far more influential.</li>
                        <li><strong>Ancestry Bias:</strong> This score is based on data primarily from individuals of European ancestry. Because of this, it is less accurate for people of other ancestries, which is a major challenge in genomics research.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script> 
</body>
</html>